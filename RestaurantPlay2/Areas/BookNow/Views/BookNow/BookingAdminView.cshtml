

<div class="form-horizontal">
	<div class="row">
		@Html.Action("BookNowForm", "BookNow", new { @area = "BookNow" })
		<hr />
		<h3>Booking Report <i class="fa fa-search pointer" onclick="$('.filterbox-container').slideToggle('slow');"></i></h3>
		@Html.Partial("_FilterBox")
		<br />
		<div id="BookingsReport">
			@Html.Partial("_BookingReport")
		</div>
	</div>
</div>


<style>
	a[href], input[type='submit'], input[type='image'], label[for], select, button, .pointer {
		cursor: pointer;
	}
</style>

<script src="~/Scripts/DataTables/jquery.dataTables.js" type="text/javascript"></script>
@Scripts.Render("~/bundles/jquery")

<script>
	$(document).ready(function () {
		InitializeDataTable();
		SetTodayData();
	});

	var table;
	function InitializeDataTable() {
		table = $('#bookings').DataTable({
			columns: [
				{ title: "Id" },
				{ title: "Name" },
				{ title: "Mobile" },
				{ title: "eMail" },
				{ title: "Heads" },
				{ title: "Comments" },
				{ title: "Occasion" },
				{ title: "Confirmed" },
				{ title: "Canceled" },
				{ title: "Booked for" }
			]
		});
	}

	function SetTodayData() {
		$.getJSON('@Url.Action("GetTodaysBookingsJSON", "BookNow")',
			function(data) {
				table.DataTable.data = data;
				table.draw();
			});
	}
</script>